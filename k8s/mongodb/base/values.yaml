auth:
  enabled: true
  existingSecret: mongodb-auth-secret
  replicaSetKey: mongodb-replica-set-secret

tls:
  enabled: true
  mode: requireTLS
  autoGenerated: false
  pemChainIncluded: true
  mTLS:
    enabled: false
  standalone:
    existingSecret: "mongodb-standalone-cert"
  certs:
    existingSecret: "mongodb-standalone-cert"

extraFlags:
  - "--auth"
  - "--clusterAuthMode=x509"
  - "--setParameter=authenticationMechanisms=MONGODB-X509"

livenessProbe:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 6
  successThreshold: 1
  exec:
    command:
      - mongosh
      - --tls
      - --tlsAllowInvalidCertificates
      - --eval
      - "db.adminCommand('ping')"

readinessProbe:
  enabled: true
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 6
  successThreshold: 1
  exec:
    command:
      - mongosh
      - --tls
      - --tlsAllowInvalidCertificates
      - --eval
      - "db.adminCommand('ping')"
